<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.FlowPane?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.RowConstraints?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>

<BorderPane fx:id="root" styleClass="root"
	stylesheets="@../css/dashboard.css" xmlns="http://javafx.com/javafx/25"
	xmlns:fx="http://javafx.com/fxml/1"
	fx:controller="controller.MainController">

	<!-- TOP BAR -->
	<top>
		<HBox alignment="CENTER_LEFT" spacing="15" styleClass="top-bar">
			<ImageView fitHeight="32" fitWidth="32"
				onMouseClicked="#openDashboard" pickOnBounds="true"
				preserveRatio="true">
				<image>
					<Image url="@../icons/dashboard.png" />
				</image>
			</ImageView>
			<Label fx:id="pageTitle" styleClass="page-title"
				text="Dashboard" />
		</HBox>
	</top>

	<!-- LEFT SIDEBAR -->
	<left>
		

			<ScrollPane xmlns="http://javafx.com/javafx/25"
            xmlns:fx="http://javafx.com/fxml/1"
            stylesheets="@../css/dashboard.css"
            fx:id="sidebarScroll"
            fitToWidth="true" fitToHeight="true"
            vbarPolicy="AS_NEEDED" hbarPolicy="NEVER"
            BorderPane.alignment="CENTER_LEFT">
            
			<content>
				<StackPane fx:id="sidebarStack"
					styleClass="sidebar-background">

					<!-- MAIN SIDEBAR -->
					<VBox fx:id="mainSidebar" fillWidth="true" spacing="4"
						styleClass="sidebar" VBox.vgrow="ALWAYS">

						<!-- Dashboard -->
						<HBox alignment="CENTER_LEFT" onMouseClicked="#openDashboard"
							styleClass="sidebar-item">
							<children>
								<ImageView fitHeight="20" fitWidth="20"
									preserveRatio="true">
									<image>
										<Image url="@../icons/dashboard.png" />
									</image>
								</ImageView>
								<Label text="Dashboard" styleClass="sidebar-text"
									maxWidth="Infinity" HBox.hgrow="ALWAYS" />
							</children>
						</HBox>

						<!-- Job Details -->
						<HBox alignment="CENTER_LEFT"
							onMouseClicked="#showJobsSubmenu" styleClass="sidebar-item">
							<children>
								<ImageView fitHeight="20" fitWidth="20"
									preserveRatio="true">
									<image>
										<Image url="@../icons/job.png" />
									</image>
								</ImageView>
								<Label text="Job Details" styleClass="sidebar-text"
									maxWidth="Infinity" HBox.hgrow="ALWAYS" />
							</children>
						</HBox>

						<!-- Client Details -->
						<HBox alignment="CENTER_LEFT"
							onMouseClicked="#showClientsSubmenu" styleClass="sidebar-item">
							<children>
								<ImageView fitHeight="20" fitWidth="20"
									preserveRatio="true">
									<image>
										<Image url="@../icons/contact.png" />
									</image>
								</ImageView>
								<Label text="Client Details" styleClass="sidebar-text"
									maxWidth="Infinity" HBox.hgrow="ALWAYS" />
							</children>
						</HBox>

						<!-- Billing -->
						<HBox alignment="CENTER_LEFT"
							onMouseClicked="#showBillingSubmenu" styleClass="sidebar-item">
							<children>
								<ImageView fitHeight="20" fitWidth="20"
									preserveRatio="true">
									<image>
										<Image url="@../icons/bill.png" />
									</image>
								</ImageView>
								<Label text="Bill Creation" styleClass="sidebar-text"
									maxWidth="Infinity" HBox.hgrow="ALWAYS" />
							</children>
						</HBox>

						<!-- Payments -->
						<HBox alignment="CENTER_LEFT"
							onMouseClicked="#showPaymentSubmenu" styleClass="sidebar-item">
							<children>
								<ImageView fitHeight="20" fitWidth="20"
									preserveRatio="true">
									<image>
										<Image url="@../icons/payment.png" />
									</image>
								</ImageView>
								<Label text="Payments" styleClass="sidebar-text"
									maxWidth="Infinity" HBox.hgrow="ALWAYS" />
							</children>
						</HBox>

						<!-- Ledger -->
						<HBox alignment="CENTER_LEFT"
							onMouseClicked="#showLedgerSubmenu" styleClass="sidebar-item">
							<children>
								<ImageView fitHeight="20" fitWidth="20"
									preserveRatio="true">
									<image>
										<Image url="@../icons/ledger.png" />
									</image>
								</ImageView>
								<Label text="Client Ledger" styleClass="sidebar-text"
									maxWidth="Infinity" HBox.hgrow="ALWAYS" />
							</children>
						</HBox>

						<!-- QUICK LINKS -->
						<Label styleClass="sidebar-section-header"
							text="Quick Links" />

						<HBox styleClass="sidebar-item" onMouseClicked="#loadAddClient">
							<children>
								<ImageView fitHeight="20" fitWidth="20"
									preserveRatio="true">
									<image>
										<Image url="@../icons/add_client.png" />
									</image>
								</ImageView>
								<Label text="Add Client" styleClass="sidebar-text"
									maxWidth="Infinity" HBox.hgrow="ALWAYS" />
							</children>
						</HBox>

						<HBox styleClass="sidebar-item">
							<children>
								<ImageView fitHeight="20" fitWidth="20"
									preserveRatio="true">
									<image>
										<Image url="@../icons/add_bill.png" />
									</image>
								</ImageView>
								<Label text="Create Bill" styleClass="sidebar-text"
									maxWidth="Infinity" HBox.hgrow="ALWAYS" />
							</children>
						</HBox>

						<HBox styleClass="sidebar-item">
							<children>
								<ImageView fitHeight="20" fitWidth="20"
									preserveRatio="true">
									<image>
										<Image url="@../icons/add_job.png" />
									</image>
								</ImageView>
								<Label text="Add Job" styleClass="sidebar-text"
									maxWidth="Infinity" HBox.hgrow="ALWAYS" />
							</children>
						</HBox>

						<HBox styleClass="sidebar-item">
							<children>
								<ImageView fitHeight="20" fitWidth="20"
									preserveRatio="true">
									<image>
										<Image url="@../icons/add_payment.png" />
									</image>
								</ImageView>
								<Label text="Record Payment" styleClass="sidebar-text"
									maxWidth="Infinity" HBox.hgrow="ALWAYS" />
							</children>
						</HBox>

					</VBox>

					<!-- Sub Menus (all hidden initially) -->
					<!-- (JobsSidebar, ClientsSidebar, BillingSidebar, PaymentSidebar, LedgerSidebar) 
						will remain unchanged but visible="false" and managed="false" and we will 
						apply vgrow only to mainSidebar for auto-height -->
					<!-- ================= JOBS SUBMENU ================= -->
					<VBox fx:id="jobsSidebar" managed="false" visible="false"
						spacing="4" styleClass="sidebar">

						<HBox alignment="CENTER_LEFT" onMouseClicked="#openDashboard"
							styleClass="sidebar-item back-item">
							<children>
								<Label styleClass="sidebar-text" text="← Back"
									maxWidth="Infinity" HBox.hgrow="ALWAYS" />
							</children>
						</HBox>

						<Label styleClass="sidebar-section-header"
							text="Job Details" />

						<HBox alignment="CENTER_LEFT" styleClass="sidebar-item">
							<children>
								<Label styleClass="sidebar-text" text="Add Job"
									maxWidth="Infinity" HBox.hgrow="ALWAYS" />
							</children>
						</HBox>
						<HBox alignment="CENTER_LEFT" styleClass="sidebar-item">
							<children>
								<Label styleClass="sidebar-text" text="View Jobs"
									maxWidth="Infinity" HBox.hgrow="ALWAYS" />
							</children>
						</HBox>
						<HBox alignment="CENTER_LEFT" styleClass="sidebar-item">
							<children>
								<Label styleClass="sidebar-text" text="Job History"
									maxWidth="Infinity" HBox.hgrow="ALWAYS" />
							</children>
						</HBox>
					</VBox>

					<!-- ================= CLIENTS SUBMENU ================= -->
					<VBox fx:id="clientsSidebar" managed="false" visible="false"
						spacing="4" styleClass="sidebar">

						<HBox alignment="CENTER_LEFT" onMouseClicked="#openDashboard"
							styleClass="sidebar-item back-item">
							<children>
								<Label styleClass="sidebar-text" text="← Back"
									maxWidth="Infinity" HBox.hgrow="ALWAYS" />
							</children>
						</HBox>

						<Label styleClass="sidebar-section-header"
							text="Client Details" />

						<HBox alignment="CENTER_LEFT" styleClass="sidebar-item" onMouseClicked="#loadAddClient">
							<children>
								<Label styleClass="sidebar-text" text="Add Client"
									maxWidth="Infinity" HBox.hgrow="ALWAYS" />
							</children>
						</HBox>
						<HBox alignment="CENTER_LEFT" styleClass="sidebar-item">
							<children>
								<Label styleClass="sidebar-text" text="View Clients"
									maxWidth="Infinity" HBox.hgrow="ALWAYS" />
							</children>
						</HBox>
						<HBox alignment="CENTER_LEFT" styleClass="sidebar-item">
							<children>
								<Label styleClass="sidebar-text" text="Client Reports"
									maxWidth="Infinity" HBox.hgrow="ALWAYS" />
							</children>
						</HBox>
					</VBox>

					<!-- ================= BILLING SUBMENU ================= -->
					<VBox fx:id="billingSidebar" managed="false" visible="false"
						spacing="4" styleClass="sidebar">

						<HBox alignment="CENTER_LEFT" onMouseClicked="#openDashboard"
							styleClass="sidebar-item back-item">
							<children>
								<Label styleClass="sidebar-text" text="← Back"
									maxWidth="Infinity" HBox.hgrow="ALWAYS" />
							</children>
						</HBox>

						<Label styleClass="sidebar-section-header" text="Billing" />

						<HBox alignment="CENTER_LEFT" styleClass="sidebar-item">
							<children>
								<Label styleClass="sidebar-text" text="Create Bill"
									maxWidth="Infinity" HBox.hgrow="ALWAYS" />
							</children>
						</HBox>
						<HBox alignment="CENTER_LEFT" styleClass="sidebar-item">
							<children>
								<Label styleClass="sidebar-text" text="View Bills"
									maxWidth="Infinity" HBox.hgrow="ALWAYS" />
							</children>
						</HBox>
						<HBox alignment="CENTER_LEFT" styleClass="sidebar-item">
							<children>
								<Label styleClass="sidebar-text" text="Pending Bills"
									maxWidth="Infinity" HBox.hgrow="ALWAYS" />
							</children>
						</HBox>
					</VBox>

					<!-- ================= PAYMENTS SUBMENU ================= -->
					<VBox fx:id="paymentSidebar" managed="false" visible="false"
						spacing="4" styleClass="sidebar">

						<HBox alignment="CENTER_LEFT" onMouseClicked="#openDashboard"
							styleClass="sidebar-item back-item">
							<children>
								<Label styleClass="sidebar-text" text="← Back"
									maxWidth="Infinity" HBox.hgrow="ALWAYS" />
							</children>
						</HBox>

						<Label styleClass="sidebar-section-header" text="Payments" />

						<HBox alignment="CENTER_LEFT" styleClass="sidebar-item">
							<children>
								<Label styleClass="sidebar-text" text="Record Payment"
									maxWidth="Infinity" HBox.hgrow="ALWAYS" />
							</children>
						</HBox>
						<HBox alignment="CENTER_LEFT" styleClass="sidebar-item">
							<children>
								<Label styleClass="sidebar-text" text="Payment History"
									maxWidth="Infinity" HBox.hgrow="ALWAYS" />
							</children>
						</HBox>
					</VBox>

					<!-- ================= LEDGER SUBMENU ================= -->
					<VBox fx:id="ledgerSidebar" managed="false" visible="false"
						spacing="4" styleClass="sidebar">

						<HBox alignment="CENTER_LEFT" onMouseClicked="#openDashboard"
							styleClass="sidebar-item back-item">
							<children>
								<Label styleClass="sidebar-text" text="← Back"
									maxWidth="Infinity" HBox.hgrow="ALWAYS" />
							</children>
						</HBox>

						<Label styleClass="sidebar-section-header" text="Ledger" />

						<HBox alignment="CENTER_LEFT" styleClass="sidebar-item">
							<children>
								<Label styleClass="sidebar-text" text="Client Ledger"
									maxWidth="Infinity" HBox.hgrow="ALWAYS" />
							</children>
						</HBox>
						<HBox alignment="CENTER_LEFT" styleClass="sidebar-item">
							<children>
								<Label styleClass="sidebar-text"
									text="Outstanding Ledger Reports" maxWidth="Infinity"
									HBox.hgrow="ALWAYS" />
							</children>
						</HBox>
					</VBox>

				</StackPane>
			</content>
		</ScrollPane>
	</left>

	<!-- CENTER DASHBOARD AREA -->
	
		<center>
			
				<ScrollPane xmlns="http://javafx.com/javafx/25"
            xmlns:fx="http://javafx.com/fxml/1"
            stylesheets="@../css/dashboard.css"
            fitToWidth="true" fitToHeight="true"
            vbarPolicy="AS_NEEDED" hbarPolicy="NEVER"
            BorderPane.alignment="CENTER">

				<content>
					<VBox fx:id="centerRoot" fillWidth="true" spacing="20"
						styleClass="center-area" VBox.vgrow="ALWAYS">

						<!-- MAIN TITLE -->
						<Label styleClass="dashboard-title" text="Dashboard" />

						<!-- TOP METRICS GRID -->
						<GridPane hgap="20" vgap="20" styleClass="metrics-grid">
							<columnConstraints>
								<ColumnConstraints percentWidth="33.33" />
								<ColumnConstraints percentWidth="33.33" />
								<ColumnConstraints percentWidth="33.33" />
							</columnConstraints>

							<!-- CARD 1 -->
							<StackPane styleClass="card-style"
								GridPane.columnIndex="0">
								<VBox spacing="10" styleClass="card-content">
									<Label styleClass="card-title" text="Total Clients" />
									<HBox spacing="10">
										<ImageView fitHeight="24" fitWidth="24">
											<image>
												<Image url="@../icons/total_clients.png" />
											</image>
										</ImageView>
										<Label styleClass="card-value" text="345" />
									</HBox>
								</VBox>
							</StackPane>

							<!-- CARD 2 -->
							<StackPane styleClass="card-style"
								GridPane.columnIndex="1">
								<VBox spacing="10" styleClass="card-content">
									<Label styleClass="card-title" text="Total Jobs" />
									<HBox spacing="10">
										<ImageView fitHeight="24" fitWidth="24">
											<image>
												<Image url="@../icons/total_jobs.png" />
											</image>
										</ImageView>
										<Label styleClass="card-value" text="345" />
									</HBox>
								</VBox>
							</StackPane>

							<!-- CARD 3 -->
							<StackPane styleClass="card-style"
								GridPane.columnIndex="2">
								<VBox spacing="10" styleClass="card-content">
									<Label styleClass="card-title" text="Total Bills" />
									<HBox spacing="10">
										<ImageView fitHeight="24" fitWidth="24">
											<image>
												<Image url="@../icons/total_bill.png" />
											</image>
										</ImageView>
										<Label styleClass="card-value" text="345" />
									</HBox>
								</VBox>
							</StackPane>
						</GridPane>


						<!-- SECOND METRICS GRID -->
						<GridPane hgap="20" vgap="20" styleClass="metrics-grid">
							<columnConstraints>
								<ColumnConstraints percentWidth="33.33" />
								<ColumnConstraints percentWidth="33.33" />
								<ColumnConstraints percentWidth="33.33" />
							</columnConstraints>

							<StackPane styleClass="card-style"
								GridPane.columnIndex="0">
								<VBox spacing="10" styleClass="card-content">
									<Label styleClass="card-title" text="Total Sales" />
									<HBox spacing="10">
										<ImageView fitHeight="24" fitWidth="24">
											<image>
												<Image url="@../icons/total_sales.png" />
											</image>
										</ImageView>
										<Label styleClass="card-value" text="345" />
									</HBox>
								</VBox>
							</StackPane>

							<StackPane styleClass="card-style"
								GridPane.columnIndex="1">
								<VBox spacing="10" styleClass="card-content">
									<Label styleClass="card-title"
										text="Outstanding Payments" />
									<HBox spacing="10">
										<ImageView fitHeight="24" fitWidth="24">
											<image>
												<Image url="@../icons/outstanding_payments.png" />
											</image>
										</ImageView>
										<Label styleClass="card-value" text="345" />
									</HBox>
								</VBox>
							</StackPane>

							<StackPane styleClass="card-style"
								GridPane.columnIndex="2">
								<VBox spacing="10" styleClass="card-content">
									<Label styleClass="card-title" text="Pending Bills" />
									<HBox spacing="10">
										<ImageView fitHeight="24" fitWidth="24">
											<image>
												<Image url="@../icons/total_.png" />
											</image>
										</ImageView>
										<Label styleClass="card-value" text="345" />
									</HBox>
								</VBox>
							</StackPane>
						</GridPane>


						<!-- LOWER SECTION -->
						<HBox spacing="20" fillHeight="true"
							styleClass="bottom-section">

							<!-- RECENT ACTIVITIES -->
							<VBox spacing="10" styleClass="bottom-card"
								HBox.hgrow="ALWAYS">
								<Label styleClass="bottom-title" text="Recent Activities" />
								<VBox spacing="5" styleClass="activity-list">
									<Label text="New Bill is generated" />
									<Label text="New Bill is generated" />
									<Label text="New Bill is generated" />
									<Label text="New Bill is generated" />
								</VBox>
							</VBox>

							<!-- NAVIGATION TILES -->
							<VBox spacing="10" styleClass="bottom-card"
								HBox.hgrow="ALWAYS">
								<Label styleClass="bottom-title" text="Navigation Tiles" />

								<FlowPane hgap="12" vgap="12" maxWidth="Infinity"
									prefWrapLength="500">

									<HBox styleClass="nav-tile">
										<ImageView styleClass="tile-icon">
											<image>
												<Image url="@../icons/client_black.png" />
											</image>
										</ImageView>
										<Label text="Client Details" />
									</HBox>
									<HBox styleClass="nav-tile">
										<ImageView styleClass="tile-icon">
											<image>
												<Image url="@../icons/job_black.png" />
											</image>
										</ImageView>
										<Label text="Job Details" />
									</HBox>
									<HBox styleClass="nav-tile">
										<ImageView styleClass="tile-icon">
											<image>
												<Image url="@../icons/bill_black.png" />
											</image>
										</ImageView>
										<Label text="Bill Creation" />
									</HBox>
									<HBox styleClass="nav-tile">
										<ImageView styleClass="tile-icon">
											<image>
												<Image url="@../icons/payment_black.png" />
											</image>
										</ImageView>
										<Label text="Payment Entry" />
									</HBox>
									<HBox styleClass="nav-tile">
										<ImageView styleClass="tile-icon">
											<image>
												<Image url="@../icons/ledger_black.png" />
											</image>
										</ImageView>
										<Label text="Client Ledger" />
									</HBox>
									<HBox styleClass="nav-tile">
										<ImageView styleClass="tile-icon">
											<image>
												<Image url="@../icons/outstanding_black.png" />
											</image>
										</ImageView>
										<Label text="Outstanding" />
									</HBox>
									<HBox styleClass="nav-tile">
										<ImageView styleClass="tile-icon">
											<image>
												<Image url="@../icons/expense_black.png" />
											</image>
										</ImageView>
										<Label text="Expenses" />
									</HBox>
									<HBox styleClass="nav-tile">
										<ImageView styleClass="tile-icon">
											<image>
												<Image url="@../icons/report_black.png" />
											</image>
										</ImageView>
										<Label text="Reports" />
									</HBox>
									<HBox styleClass="nav-tile">
										<ImageView styleClass="tile-icon">
											<image>
												<Image url="@../icons/settings_black.png" />
											</image>
										</ImageView>
										<Label text="Settings" />
									</HBox>

								</FlowPane>
							</VBox>

						</HBox>

					</VBox>
				</content>
			</ScrollPane>
		</center>
</BorderPane>
    
