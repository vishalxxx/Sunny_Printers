<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.FlowPane?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.RowConstraints?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>

<BorderPane styleClass="root"
	stylesheets="@../css/dashboard.css" xmlns="http://javafx.com/javafx/25"
	xmlns:fx="http://javafx.com/fxml/1"
	fx:controller="controller.MainController">

	<!-- TOP BAR -->
	<top>
		<HBox alignment="CENTER_LEFT" spacing="15" styleClass="top-bar">
			<!-- Sidebar / Dashboard Button -->
			<ImageView fitHeight="32" fitWidth="32" pickOnBounds="true"
				preserveRatio="true" onMouseClicked="#openDashboard">
				<image>
					<Image url="@../icons/dashboard.png" />
				</image>
			</ImageView>

			<!-- Dynamic Page Title -->
			<Label fx:id="pageTitle" text="Dashboard"
				styleClass="page-title" />
		</HBox>
	</top>

	<!-- LEFT SIDEBAR -->
	<left>
		<ScrollPane fx:id="sidebarScroll" fitToWidth="true"
			hbarPolicy="NEVER" vbarPolicy="AS_NEEDED" styleClass="sidebar-scroll"
			BorderPane.alignment="CENTER_LEFT"
			style="-fx-background-color: transparent;">
			<content>
				<!-- StackPane holds main menu + all submenus -->
				<StackPane fx:id="sidebarStack"
					styleClass="sidebar-background">

					<!-- ================= MAIN SIDEBAR ================= -->
					<VBox fx:id="mainSidebar" fillWidth="true" spacing="4"
						styleClass="sidebar" VBox.vgrow="ALWAYS">

						<!-- MAIN ITEMS -->
						<HBox alignment="CENTER_LEFT" onMouseClicked="#openDashboard"
							styleClass="sidebar-item">
							<children>
								<ImageView pickOnBounds="true" preserveRatio="true"
									fitHeight="20" fitWidth="20">
									<image>
										<Image url="@../icons/dashboard.png" />
									</image>
								</ImageView>
								<Label maxWidth="Infinity" text="Dashboard"
									styleClass="sidebar-text" HBox.hgrow="ALWAYS" />
							</children>
						</HBox>

						<HBox alignment="CENTER_LEFT"
							onMouseClicked="#showJobsSubmenu" styleClass="sidebar-item">
							<children>
								<ImageView pickOnBounds="true" preserveRatio="true"
									fitHeight="20" fitWidth="20">
									<image>
										<Image url="@../icons/job.png" />
									</image>
								</ImageView>
								<Label maxWidth="Infinity" text="Job Details"
									styleClass="sidebar-text" HBox.hgrow="ALWAYS" />
							</children>
						</HBox>

						<HBox alignment="CENTER_LEFT"
							onMouseClicked="#showClientsSubmenu" styleClass="sidebar-item">
							<children>
								<ImageView pickOnBounds="true" preserveRatio="true"
									fitHeight="20" fitWidth="20">
									<image>
										<Image url="@../icons/contact.png" />
									</image>
								</ImageView>
								<Label maxWidth="Infinity" text="Client Details"
									styleClass="sidebar-text" HBox.hgrow="ALWAYS" />
							</children>
						</HBox>

						<HBox alignment="CENTER_LEFT"
							onMouseClicked="#showBillingSubmenu" styleClass="sidebar-item">
							<children>
								<ImageView pickOnBounds="true" preserveRatio="true"
									fitHeight="20" fitWidth="20">
									<image>
										<Image url="@../icons/bill.png" />
									</image>
								</ImageView>
								<Label maxWidth="Infinity" text="Bill Creation"
									styleClass="sidebar-text" HBox.hgrow="ALWAYS" />
							</children>
						</HBox>

						<HBox alignment="CENTER_LEFT"
							onMouseClicked="#showPaymentSubmenu" styleClass="sidebar-item">
							<children>
								<ImageView pickOnBounds="true" preserveRatio="true"
									fitHeight="20" fitWidth="20">
									<image>
										<Image url="@../icons/payment.png" />
									</image>
								</ImageView>
								<Label maxWidth="Infinity" text="Payments"
									styleClass="sidebar-text" HBox.hgrow="ALWAYS" />
							</children>
						</HBox>

						<HBox alignment="CENTER_LEFT"
							onMouseClicked="#showLedgerSubmenu" styleClass="sidebar-item">
							<children>
								<ImageView pickOnBounds="true" preserveRatio="true"
									fitHeight="20" fitWidth="20">
									<image>
										<Image url="@../icons/ledger.png" />
									</image>
								</ImageView>
								<Label maxWidth="Infinity" text="Client Ledger"
									styleClass="sidebar-text" HBox.hgrow="ALWAYS" />
							</children>
						</HBox>

						<!-- SECTION HEADER -->
						<Label text="Quick Links"
							styleClass="sidebar-section-header" />

						<!-- QUICK LINKS -->
						<HBox styleClass="sidebar-item">
							<children>
								<ImageView pickOnBounds="true" preserveRatio="true"
									fitHeight="20" fitWidth="20">
									<image>
										<Image url="@../icons/add_client.png" />
									</image>
								</ImageView>
								<Label maxWidth="Infinity" text="Add Client"
									styleClass="sidebar-text" HBox.hgrow="ALWAYS" />
							</children>
						</HBox>

						<HBox styleClass="sidebar-item">
							<children>
								<ImageView pickOnBounds="true" preserveRatio="true"
									fitHeight="20" fitWidth="20">
									<image>
										<Image url="@../icons/add_bill.png" />
									</image>
								</ImageView>
								<Label maxWidth="Infinity" text="Create Bill"
									styleClass="sidebar-text" HBox.hgrow="ALWAYS" />
							</children>
						</HBox>

						<HBox styleClass="sidebar-item">
							<children>
								<ImageView pickOnBounds="true" preserveRatio="true"
									fitHeight="20" fitWidth="20">
									<image>
										<Image url="@../icons/add_job.png" />
									</image>
								</ImageView>
								<Label maxWidth="Infinity" text="Add Job"
									styleClass="sidebar-text" HBox.hgrow="ALWAYS" />
							</children>
						</HBox>

						<HBox styleClass="sidebar-item">
							<children>
								<ImageView pickOnBounds="true" preserveRatio="true"
									fitHeight="20" fitWidth="20">
									<image>
										<Image url="@../icons/add_payment.png" />
									</image>
								</ImageView>
								<Label maxWidth="Infinity" text="Record Payment"
									styleClass="sidebar-text" HBox.hgrow="ALWAYS" />
							</children>
						</HBox>

					</VBox>

					<!-- ================= JOBS SUBMENU ================= -->
					<VBox fx:id="jobsSidebar" visible="false" managed="false"
						spacing="4" styleClass="sidebar">
						<children>

							<!-- Back -->
							<HBox alignment="CENTER_LEFT"
								onMouseClicked="#openDashboard"
								styleClass="sidebar-item back-item">
								<children>
									<Label text="← Back" styleClass="sidebar-text"
										maxWidth="Infinity" HBox.hgrow="ALWAYS" />
								</children>
							</HBox>

							<Label text="Job Details"
								styleClass="sidebar-section-header" />

							<HBox alignment="CENTER_LEFT" styleClass="sidebar-item">
								<children>
									<Label text="Add Job" styleClass="sidebar-text"
										maxWidth="Infinity" HBox.hgrow="ALWAYS" />
								</children>
							</HBox>

							<HBox alignment="CENTER_LEFT" styleClass="sidebar-item">
								<children>
									<Label text="View Jobs" styleClass="sidebar-text"
										maxWidth="Infinity" HBox.hgrow="ALWAYS" />
								</children>
							</HBox>

							<HBox alignment="CENTER_LEFT" styleClass="sidebar-item">
								<children>
									<Label text="Job History" styleClass="sidebar-text"
										maxWidth="Infinity" HBox.hgrow="ALWAYS" />
								</children>
							</HBox>
						</children>
					</VBox>

					<!-- ================= CLIENTS SUBMENU ================= -->
					<VBox fx:id="clientsSidebar" visible="false" managed="false"
						spacing="4" styleClass="sidebar">
						<children>

							<HBox alignment="CENTER_LEFT"
								onMouseClicked="#openDashboard"
								styleClass="sidebar-item back-item">
								<children>
									<Label text="← Back" styleClass="sidebar-text"
										maxWidth="Infinity" HBox.hgrow="ALWAYS" />
								</children>
							</HBox>

							<Label text="Client Details"
								styleClass="sidebar-section-header" />

							<HBox alignment="CENTER_LEFT" styleClass="sidebar-item">
								<children>
									<Label text="Add Client" styleClass="sidebar-text"
										maxWidth="Infinity" HBox.hgrow="ALWAYS" />
								</children>
							</HBox>

							<HBox alignment="CENTER_LEFT" styleClass="sidebar-item">
								<children>
									<Label text="View Clients" styleClass="sidebar-text"
										maxWidth="Infinity" HBox.hgrow="ALWAYS" />
								</children>
							</HBox>

							<HBox alignment="CENTER_LEFT" styleClass="sidebar-item">
								<children>
									<Label text="Client Reports" styleClass="sidebar-text"
										maxWidth="Infinity" HBox.hgrow="ALWAYS" />
								</children>
							</HBox>
						</children>
					</VBox>

					<!-- ================= BILLING SUBMENU ================= -->
					<VBox fx:id="billingSidebar" visible="false" managed="false"
						spacing="4" styleClass="sidebar">
						<children>

							<HBox alignment="CENTER_LEFT"
								onMouseClicked="#openDashboard"
								styleClass="sidebar-item back-item">
								<children>
									<Label text="← Back" styleClass="sidebar-text"
										maxWidth="Infinity" HBox.hgrow="ALWAYS" />
								</children>
							</HBox>

							<Label text="Billing" styleClass="sidebar-section-header" />

							<HBox alignment="CENTER_LEFT" styleClass="sidebar-item">
								<children>
									<Label text="Create Bill" styleClass="sidebar-text"
										maxWidth="Infinity" HBox.hgrow="ALWAYS" />
								</children>
							</HBox>

							<HBox alignment="CENTER_LEFT" styleClass="sidebar-item">
								<children>
									<Label text="View Bills" styleClass="sidebar-text"
										maxWidth="Infinity" HBox.hgrow="ALWAYS" />
								</children>
							</HBox>

							<HBox alignment="CENTER_LEFT" styleClass="sidebar-item">
								<children>
									<Label text="Pending Bills" styleClass="sidebar-text"
										maxWidth="Infinity" HBox.hgrow="ALWAYS" />
								</children>
							</HBox>
						</children>
					</VBox>

					<!-- ================= PAYMENTS SUBMENU ================= -->
					<VBox fx:id="paymentSidebar" visible="false" managed="false"
						spacing="4" styleClass="sidebar">
						<children>

							<HBox alignment="CENTER_LEFT"
								onMouseClicked="#openDashboard"
								styleClass="sidebar-item back-item">
								<children>
									<Label text="← Back" styleClass="sidebar-text"
										maxWidth="Infinity" HBox.hgrow="ALWAYS" />
								</children>
							</HBox>

							<Label text="Payments" styleClass="sidebar-section-header" />

							<HBox alignment="CENTER_LEFT" styleClass="sidebar-item">
								<children>
									<Label text="Record Payment" styleClass="sidebar-text"
										maxWidth="Infinity" HBox.hgrow="ALWAYS" />
								</children>
							</HBox>

							<HBox alignment="CENTER_LEFT" styleClass="sidebar-item">
								<children>
									<Label text="Payment History" styleClass="sidebar-text"
										maxWidth="Infinity" HBox.hgrow="ALWAYS" />
								</children>
							</HBox>
						</children>
					</VBox>

					<!-- ================= LEDGER SUBMENU ================= -->
					<VBox fx:id="ledgerSidebar" visible="false" managed="false"
						spacing="4" styleClass="sidebar">
						<children>

							<HBox alignment="CENTER_LEFT"
								onMouseClicked="#openDashboard"
								styleClass="sidebar-item back-item">
								<children>
									<Label text="← Back" styleClass="sidebar-text"
										maxWidth="Infinity" HBox.hgrow="ALWAYS" />
								</children>
							</HBox>

							<Label text="Ledger" styleClass="sidebar-section-header" />

							<HBox alignment="CENTER_LEFT" styleClass="sidebar-item">
								<children>
									<Label text="Client Ledger" styleClass="sidebar-text"
										maxWidth="Infinity" HBox.hgrow="ALWAYS" />
								</children>
							</HBox>

							<HBox alignment="CENTER_LEFT" styleClass="sidebar-item">
								<children>
									<Label text="Outstanding Ledger Reports"
										styleClass="sidebar-text" maxWidth="Infinity"
										HBox.hgrow="ALWAYS" />
								</children>
							</HBox>
						</children>
					</VBox>

				</StackPane>
			</content>
		</ScrollPane>
	</left>

	<!-- CENTER DASHBOARD AREA -->
	<center>
		<ScrollPane fx:id="centerScroll" fitToHeight="true"
			fitToWidth="true" hbarPolicy="NEVER" vbarPolicy="AS_NEEDED"
			style="-fx-background-color: transparent;">
			<content>
				<VBox fx:id="centerRoot" fillWidth="true" spacing="20"
					styleClass="center-area">

					<!-- MAIN TITLE (you can also bind this to pageTitle later) -->
					<Label styleClass="dashboard-title" text="Dashboard" />

					<!-- TOP METRICS GRID -->
					<GridPane hgap="20" vgap="20" styleClass="metrics-grid">
						<columnConstraints>
							<ColumnConstraints percentWidth="33.33" />
							<ColumnConstraints percentWidth="33.33" />
							<ColumnConstraints percentWidth="33.33" />
						</columnConstraints>

						<!-- CARD 1 -->
						<StackPane styleClass="card-style"
							GridPane.columnIndex="0">
							<VBox spacing="10" styleClass="card-content">
								<Label styleClass="card-title" text="Total Clients" />
								<HBox spacing="10">
									<ImageView fitHeight="24" fitWidth="24">
										<image>
											<Image url="@../icons/total_clients.png" />
										</image>
									</ImageView>
									<Label styleClass="card-value" text="345" />
								</HBox>
							</VBox>
						</StackPane>

						<!-- CARD 2 -->
						<StackPane styleClass="card-style"
							GridPane.columnIndex="1">
							<VBox spacing="10" styleClass="card-content">
								<Label styleClass="card-title" text="Total Jobs" />
								<HBox spacing="10">
									<ImageView fitHeight="24" fitWidth="24">
										<image>
											<Image url="@../icons/total_jobs.png" />
										</image>
									</ImageView>
									<Label styleClass="card-value" text="345" />
								</HBox>
							</VBox>
						</StackPane>

						<!-- CARD 3 -->
						<StackPane styleClass="card-style"
							GridPane.columnIndex="2">
							<VBox spacing="10" styleClass="card-content">
								<Label styleClass="card-title" text="Total Bills" />
								<HBox spacing="10">
									<ImageView fitHeight="24" fitWidth="24">
										<image>
											<Image url="@../icons/total_bill.png" />
										</image>
									</ImageView>
									<Label styleClass="card-value" text="345" />
								</HBox>
							</VBox>
						</StackPane>
					</GridPane>

					<!-- SECOND METRICS GRID -->
					<GridPane hgap="20" vgap="20" styleClass="metrics-grid">
						<columnConstraints>
							<ColumnConstraints percentWidth="33.33" />
							<ColumnConstraints percentWidth="33.33" />
							<ColumnConstraints percentWidth="33.33" />
						</columnConstraints>

						<StackPane styleClass="card-style"
							GridPane.columnIndex="0">
							<VBox spacing="10" styleClass="card-content">
								<Label styleClass="card-title" text="Total Sales" />
								<HBox spacing="10">
									<ImageView fitHeight="24" fitWidth="24">
										<image>
											<Image url="@../icons/total_sales.png" />
										</image>
									</ImageView>
									<Label styleClass="card-value" text="345" />
								</HBox>
							</VBox>
						</StackPane>

						<StackPane styleClass="card-style"
							GridPane.columnIndex="1">
							<VBox spacing="10" styleClass="card-content">
								<Label styleClass="card-title" text="Outstanding Payments" />
								<HBox spacing="10">
									<ImageView fitHeight="24" fitWidth="24">
										<image>
											<Image url="@../icons/outstanding_payments.png" />
										</image>
									</ImageView>
									<Label styleClass="card-value" text="345" />
								</HBox>
							</VBox>
						</StackPane>

						<StackPane styleClass="card-style"
							GridPane.columnIndex="2">
							<VBox spacing="10" styleClass="card-content">
								<Label styleClass="card-title" text="Pending Bills" />
								<HBox spacing="10">
									<ImageView fitHeight="24" fitWidth="24">
										<image>
											<Image url="@../icons/total_.png" />
										</image>
									</ImageView>
									<Label styleClass="card-value" text="345" />
								</HBox>
							</VBox>
						</StackPane>
					</GridPane>

					<!-- LOWER SECTION (Recent Activities + Navigation Tiles) -->
					<HBox fillHeight="true" spacing="20"
						styleClass="bottom-section">

						<!-- Recent Activities -->
						<VBox spacing="10" styleClass="bottom-card"
							HBox.hgrow="ALWAYS">
							<Label styleClass="bottom-title" text="Recent Activities" />
							<VBox spacing="5" styleClass="activity-list">
								<Label text="New Bill is generated" />
								<Label text="New Bill is generated" />
								<Label text="New Bill is generated" />
								<Label text="New Bill is generated" />
							</VBox>
						</VBox>

						<!-- Navigation Tiles -->
						<VBox spacing="10" styleClass="bottom-card"
							HBox.hgrow="ALWAYS">
							<Label styleClass="bottom-title" text="Navigation Tiles" />

							<FlowPane hgap="12" vgap="12" prefWrapLength="500"
								maxWidth="Infinity">

								<!-- 1. Client Details -->
								<HBox styleClass="nav-tile" HBox.hgrow="ALWAYS">
									<ImageView styleClass="tile-icon">
										<image>
											<Image url="@../icons/client_black.png" />
										</image>
									</ImageView>
									<Label text="Client Details" />
								</HBox>

								<!-- 2. Job Details -->
								<HBox styleClass="nav-tile" HBox.hgrow="ALWAYS">
									<ImageView styleClass="tile-icon">
										<image>
											<Image url="@../icons/job_black.png" />
										</image>
									</ImageView>
									<Label text="Job Details" />
								</HBox>

								<!-- 3. Bill Creation -->
								<HBox styleClass="nav-tile" HBox.hgrow="ALWAYS">
									<ImageView styleClass="tile-icon">
										<image>
											<Image url="@../icons/bill_black.png" />
										</image>
									</ImageView>
									<Label text="Bill Creation" />
								</HBox>

								<!-- 4. Payment Entry -->
								<HBox styleClass="nav-tile" HBox.hgrow="ALWAYS">
									<ImageView styleClass="tile-icon">
										<image>
											<Image url="@../icons/payment_black.png" />
										</image>
									</ImageView>
									<Label text="Payment Entry" />
								</HBox>

								<!-- 5. Ledger -->
								<HBox styleClass="nav-tile" HBox.hgrow="ALWAYS">
									<ImageView styleClass="tile-icon">
										<image>
											<Image url="@../icons/ledger_black.png" />
										</image>
									</ImageView>
									<Label text="Client Ledger" />
								</HBox>

								<!-- 6. Outstanding -->
								<HBox styleClass="nav-tile" HBox.hgrow="ALWAYS">
									<ImageView styleClass="tile-icon">
										<image>
											<Image url="@../icons/outstanding_black.png" />
										</image>
									</ImageView>
									<Label text="Outstanding" />
								</HBox>

								<!-- 7. Expense Entry -->
								<HBox styleClass="nav-tile" HBox.hgrow="ALWAYS">
									<ImageView styleClass="tile-icon">
										<image>
											<Image url="@../icons/expense_black.png" />
										</image>
									</ImageView>
									<Label text="Expenses" />
								</HBox>

								<!-- 8. Reports -->
								<HBox styleClass="nav-tile" HBox.hgrow="ALWAYS">
									<ImageView styleClass="tile-icon">
										<image>
											<Image url="@../icons/report_black.png" />
										</image>
									</ImageView>
									<Label text="Reports" />
								</HBox>

								<!-- 9. Settings -->
								<HBox styleClass="nav-tile" HBox.hgrow="ALWAYS">
									<ImageView styleClass="tile-icon">
										<image>
											<Image url="@../icons/settings_black.png" />
										</image>
									</ImageView>
									<Label text="Settings" />
								</HBox>

							</FlowPane>

						</VBox>

					</HBox>

				</VBox>
			</content>
		</ScrollPane>
	</center>

</BorderPane>
